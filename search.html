---
layout: default
title: Search - Avdhesh Kushwah Official
permalink: /search/
---

<div class="container mt-5 search-page">
  <div class="row justify-content-center">
    <div class="col-md-10 col-lg-8">

      <!-- Header -->
      <h5 class="text-center mb-4 text-white" style="font-family: 'Mulish', sans-serif; font-weight: 700;">
      <h5 class="header3" style="text-align: center;"><b> Search Page </b><i class="fa fa-caret-down"
      style="float:right;margin-bottom:10px;color:#999"></i></h5>
        <i class="fa fa-caret-down" style="float:right; color:#999;"></i>
      </h5>

      <!-- Search Bar with Border -->
      <div class="search-box-wrapper mb-5">
        <div class="input-group input-group-lg">
          <input type="text" id="search-input" class="form-control bg-dark text-white border-0" 
                 placeholder="Search books, gallery, movies..." autocomplete="off" 
                 style="height: 40px; font-size: 1.1rem; border-radius: 50px 0 0 50px;">
          <div class="input-group-append">
            <button class="btn" style="background: #FFD700; border-radius: 0 50px 50px 0; width: 60px; height: 40px;">
              <i class="fa fa-search text-dark"></i>
            </button>
          </div>
        </div>
      </div>
      
      <div id="search-status" class="text-center mb-4"></div>

      <!-- Results: One per row, centered -->
      <div id="search-results" class="row justify-content-center"></div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/lunr/lunr.js"></script>

<script>
// AUTO SCAN ALL PAGES (after _config.yml include fix)
const searchData = [
  {% for page in site.pages %}
    {% if page.path contains '.html' and page.path != 'search.html' %}
    {
      "url": "{{ page.url | relative_url }}",
      "title": "{{ page.title | default: page.name | remove: '.html' | replace: '-', ' ' | replace: '_', ' ' | split: '/' | last | capitalize }}",
      "desc": "{{ page.description | default: '' | escape }}",
      "image": "{{ page.og_image | default: page.image | default: site.og_image | default: '/assets/img/ak-logo.png' }}"
    }{% unless forloop.last %},{% endunless %}
    {% endif %}
  {% endfor %}
];

let idx;
if (searchData.length > 0) {
  idx = lunr(function () {
    this.ref('url');
    this.field('title');
    this.field('desc');
    searchData.forEach(d => this.add(d));
  });
  document.getElementById('search-status').innerHTML = 
    `<span class="text-success" style="font-family: 'Mulish', sans-serif; font-weight: 700;">Ready! ${searchData.length} pages indexed.</span>`;
} else {
  document.getElementById('search-status').innerHTML = 
    `<span class="text-danger">No pages found. Check _config.yml includes.</span>`;
}

document.getElementById('search-input').addEventListener('input', function() {
  const q = this.value.trim().toLowerCase();
  const el = document.getElementById('search-results');
  if (!q || !idx) { el.innerHTML = ''; return; }

  const res = idx.search(q + '*');
  if (res.length === 0) {
    el.innerHTML = `<div class="col-12 text-center py-5"><p class="text-muted h5">No results for "<strong style='color:#FFD700'>${q}</strong>"</p></div>`;
    return;
  }

  el.innerHTML = res.map(r => {
    const d = searchData.find(x => x.url === r.ref);
    
    // Title: 6-7 words
    const titleWords = d.title.split(' ').slice(0, 7).join(' ');
    const shortTitle = d.title.split(' ').length > 7 ? titleWords + '...' : titleWords;
    
    // Desc: 10-11 words
    const descWords = (d.desc || 'No description available.').split(' ').slice(0, 11).join(' ');
    const shortDesc = (d.desc || 'No description available.').split(' ').length > 11 ? descWords + '...' : descWords;

    return `
      <div class="col-12 mb-4">
        <div class="result-box d-flex flex-row align-items-stretch" 
             style="background: #1e1e1e; border-radius: 16px; overflow: hidden; border: 1px solid #000; transition: all 0.3s; min-height: 160px;">
          
          <!-- LEFT: OG Image -->
          <div class="flex-shrink-0" style="width: 30%; min-width: 120px;">
            <img src="${d.image}" class="w-100 h-100" alt="${d.title}" 
                 style="object-fit: cover; display: block;">
          </div>
          
          <!-- RIGHT: Content -->
          <div class="p-3 d-flex flex-column flex-grow-1" style="background: #2d2d2d; width: 70%;">
            <!-- Title -->
            <h5 class="text-white mb-1 title-hover" style="font-family: 'Mulish', sans-serif; font-weight: 700; font-size: 1rem; line-height: 1.3;">
              <a href="${d.url}" class="text-decoration-none stretched-link">${shortTitle}</a>
            </h5>
            
            <!-- URL -->
            <p class="text-warning small mb-1 url-hover" style="font-size: 0.8rem;">
              <i class="fa fa-link"></i> ${d.url}
            </p>
            
            <!-- Description -->
            <p class="text-light small flex-grow-1" style="font-style: italic; line-height: 1.4; font-size: 0.85rem; margin-bottom: 0;">
              ${shortDesc}
            </p>
          </div>
        </div>
      </div>
    `;
  }).join('');
});
</script>

<style scoped>
  /* FULLY ISOLATED CSS – NO CONFLICT WITH MAIN CSS */
  .search-page .search-box-wrapper {
    background: #222;
    padding: 8px;
    border-radius: 50px;
    border: 2px solid #444;
    transition: all 0.3s;
  }
  .search-page .search-box-wrapper:focus-within {
    border-color: #FFD700;
    box-shadow: 0 0 0 0.2rem rgba(255, 215, 0, 0.25);
  }

  .search-page .input-group .form-control {
    background: transparent !important;
    border: none;
    color: #fff;
  }
  .search-page .input-group .form-control:focus { 
    box-shadow: none; 
  }

  .search-page .result-box {
    transition: all 0.3s ease;
    border: 1px solid #000 !important;
  }
  .search-page .result-box:hover {
    transform: translateY(-6px);
    border-color: #FFD700 !important;
    box-shadow: 0 8px 20px rgba(255, 215, 0, 0.15);
  }

  .search-page .url-hover { 
    color: #FFD700 !important; 
    transition: color 0.3s; 
  }
  .search-page .url-hover:hover { 
    color: #fff !important; 
  }
  .search-page .title-hover a { 
    color: #fff !important; 
    transition: color 0.3s; 
  }
  .search-page .title-hover a:hover { 
    color: #FFD700 !important; 
  }

  /* MOBILE: SAME AS DESKTOP – LEFT-RIGHT LAYOUT */
  @media (max-width: 576px) {
    .search-page .result-box {
      flex-direction: row !important;
      min-height: 140px !important;
    }
    .search-page .result-box > div:first-child {
      width: 35% !important;
      min-width: 100px !important;
    }
    .search-page .result-box > div:last-child {
      width: 65% !important;
      padding: 0.75rem !important;
    }
    .search-page .result-box h5 { 
      font-size: 0.95rem !important; 
    }
    .search-page .result-box p { 
      font-size: 0.75rem !important; 
    }
    .search-page .result-box img { 
      height: 140px !important; 
    }
  }
</style>
