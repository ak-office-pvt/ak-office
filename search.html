---
layout: default
title: Search - Avdhesh Kushwah Official
permalink: /search/
---

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <h1 class="text-center mb-5 text-white" style="font-family: 'Mulish', sans-serif; font-weight: 700;">Site Search</h1>
      
      <!-- Search Bar -->
      <div class="input-group input-group-lg mb-5">
        <input type="text" id="search-input" class="form-control bg-dark text-white border-0" 
               placeholder="Search books, gallery, movies..." autocomplete="off" 
               style="border-radius: 50px 0 0 50px; height: 60px; font-size: 1.1rem;">
        <div class="input-group-append">
          <button class="btn" style="background: #FFD700; border-radius: 0 50px 50px 0; width: 60px; height: 60px;">
            <i class="fa fa-search text-dark"></i>
          </button>
        </div>
      </div>
      
      <div id="search-status" class="text-center mb-4"></div>
      <div id="search-results" class="row"></div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/lunr/lunr.js"></script>

<script>
// AUTO SCAN PAGES + DESCRIPTION
const searchData = [
  {% for page in site.pages %}
    {% if page.path contains '.html' and page.path != 'search.html' %}
    {
      "url": "{{ page.url | relative_url }}",
      "title": "{{ page.title | default: page.name | remove: '.html' | replace: '-', ' ' | replace: '_', ' ' | split: '/' | last | capitalize }}",
      "body": {{ page.content | strip_html | truncate: 280 | jsonify }},
      "desc": "{{ page.description | default: '' | escape }}",
      "image": "{{ page.og_image | default: page.image | default: site.og_image | default: '/assets/img/ak-logo.png' }}"
    }{% unless forloop.last %},{% endunless %}
    {% endif %}
  {% endfor %}
];

let idx;
if (searchData.length > 0) {
  idx = lunr(function () {
    this.ref('url');
    this.field('title');
    this.field('body');
    this.field('desc');
    searchData.forEach(d => this.add(d));
  });
  document.getElementById('search-status').innerHTML = 
    `<span class="text-success" style="font-family: 'Mulish', sans-serif; font-weight: 700;">Ready! ${searchData.length} pages indexed.</span>`;
}

document.getElementById('search-input').addEventListener('input', function() {
  const q = this.value.trim().toLowerCase();
  const el = document.getElementById('search-results');
  if (!q || !idx) { el.innerHTML = ''; return; }

  const res = idx.search(q + '*');
  if (res.length === 0) {
    el.innerHTML = `<div class="col-12 text-center"><p class="text-muted">No results for "<strong style='color:#FFD700'>${q}</strong>"</p></div>`;
    return;
  }

  el.innerHTML = res.map(r => {
    const d = searchData.find(x => x.url === r.ref);
    
    return `
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card bg-dark text-white h-100" style="border-radius: 18px; overflow: hidden; box-shadow: 0 4px 20px rgba(255,255,255,0.1); transition: all 0.3s;">
          
          <!-- OG Image -->
          <img src="${d.image}" class="card-img-top" alt="${d.title}" style="height: 160px; object-fit: cover; border-bottom: 2px solid #333;">
          
          <!-- Body -->
          <div class="card-body d-flex flex-column p-3">
            <!-- Title (White â†’ Hover Yellow) -->
            <h5 class="card-title mb-2 text-white title-hover" style="font-family: 'Mulish', sans-serif; font-weight: 700; font-size: 1rem;">
              <a href="${d.url}" class="text-decoration-none stretched-link">${d.title}</a>
            </h5>
            
            <!-- URL -->
            <p class="text-muted small mb-1 url-hover">
              <i class="fa fa-link"></i> ${d.url}
            </p>
            
            <!-- Page Description (from front matter) -->
            <p class="text-light small mb-2" style="font-style: italic; line-height: 1.4;">
              ${d.desc || 'No description available.'}
            </p>
            
            <!-- Snippet -->
            <p class="text-light small flex-grow-1" style="line-height: 1.5; font-size: 0.9rem; max-height: 72px; overflow: hidden;">
              ${d.body}
            </p>
            
            <!-- View Button -->
            <a href="${d.url}" class="btn btn-sm mt-3 align-self-start" style="background: #FFD700; color: #000; font-weight: 600;">
              <i class="fa fa-arrow-right"></i> View Page
            </a>
          </div>
        </div>
      </div>
    `;
  }).join('');
});
</script>

<style>
  /* Tere Site Theme Ke Hisaab Se */
  body { 
    background: #161616; 
    color: #fff; 
    font-family: 'Mulish', sans-serif;
  }
  
  .card {
    transition: all 0.3s ease;
    border: 1px solid #333;
  }
  .card:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 30px rgba(255,255,255,0.15) !important;
    border-color: #555;
  }
  
  /* Search Input */
  .input-group .form-control {
    background: #222 !important;
    border-color: #444;
    color: #fff;
  }
  .input-group .form-control:focus {
    border-color: #FFD700;
    box-shadow: 0 0 0 0.2rem rgba(255, 215, 0, 0.25);
  }
  
  /* URL Hover */
  .url-hover { color: #aaa; transition: color 0.3s; }
  .url-hover:hover { color: #FFD700; }
  
  /* Title Hover */
  .title-hover a { color: #fff !important; transition: color 0.3s; }
  .title-hover a:hover { color: #FFD700 !important; }
  
  /* Button Text Black */
  .btn { color: #000 !important; font-weight: 600; }
  .btn:hover { background: #e6c200; }
</style>
