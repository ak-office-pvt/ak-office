---
layout: default
title: Search - Avdhesh Kushwah Official
permalink: /search/
---

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <h1 class="text-center mb-5 text-white fw-bold">Site Search</h1>
      
      <!-- Search Bar -->
      <div class="input-group input-group-lg mb-5 shadow-lg" style="border-radius: 50px; overflow: hidden;">
        <input type="text" id="search-input" class="form-control bg-dark text-white border-0 ps-4" 
               placeholder="Search books, gallery, movies..." autocomplete="off" style="height: 60px;">
        <button class="btn btn-warning text-dark fs-5" style="width: 60px;">
          <i class="fas fa-search"></i>
        </button>
      </div>
      
      <div id="search-status" class="mb-4 text-center"></div>
      <div id="search-results" class="row g-4"></div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/lunr/lunr.js"></script>

<script>
// AUTO SCAN ALL PAGES
const searchData = [
  {% for page in site.pages %}
    {% if page.path contains '.html' and page.path != 'search.html' %}
    {
      "url": "{{ page.url | relative_url }}",
      "title": "{{ page.title | default: page.name | remove: '.html' | replace: '-', ' ' | replace: '_', ' ' | split: '/' | last | capitalize }}",
      "body": {{ page.content | strip_html | jsonify }},
      "image": "{{ page.og_image | default: page.image | default: site.og_image | default: '/assets/img/ak-logo.png' }}",
      "icon": "{{ page.icon | default: 'folder' }}"
    }{% unless forloop.last %},{% endunless %}
    {% endif %}
  {% endfor %}
];

let idx;
if (searchData.length > 0) {
  idx = lunr(function () {
    this.ref('url');
    this.field('title');
    this.field('body');
    searchData.forEach(d => this.add(d));
  });
  document.getElementById('search-status').innerHTML = 
    `<span class="text-success fw-bold fs-5">Ready! ${searchData.length} pages indexed.</span>`;
} else {
  document.getElementById('search-status').innerHTML = 
    `<span class="text-danger">No pages found.</span>`;
}

document.getElementById('search-input').addEventListener('input', function() {
  const q = this.value.trim();
  const el = document.getElementById('search-results');
  if (!q || !idx) { el.innerHTML = ''; return; }

  const res = idx.search(q + '*');
  if (res.length === 0) {
    el.innerHTML = `<div class="col-12 text-center"><p class="text-muted fs-5">No results for "<strong class="text-warning">${q}</strong>"</p></div>`;
    return;
  }

  el.innerHTML = res.map(r => {
    const d = searchData.find(x => x.url === r.ref);
    
    // Icon mapping
    const iconMap = {
      'book': 'fas fa-book-open',
      'movie': 'fas fa-film',
      'gallery': 'fas fa-images',
      'cricket': 'fas fa-trophy',
      'folder': 'fas fa-folder'
    };
    const iconClass = iconMap[d.icon] || 'fas fa-folder';

    return `
      <div class="col-md-6 col-lg-4">
        <div class="card bg-dark text-white border-0 h-100" style="border-radius: 20px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.3); transition: all 0.4s;">
          
          <!-- OG Image -->
          <div class="position-relative">
            <img src="${d.image}" class="card-img-top" alt="${d.title}" style="height: 180px; object-fit: cover; filter: brightness(0.9);">
            <!-- Icon on Image (Center Top) -->
            <div class="position-absolute top-0 start-50 translate-middle-x mt-3">
              <div class="bg-dark bg-opacity-75 rounded-circle p-3 shadow">
                <i class="${iconClass} fa-2x text-warning"></i>
              </div>
            </div>
          </div>
          
          <!-- Card Body -->
          <div class="card-body d-flex flex-column p-4">
            <h5 class="card-title mb-3 text-warning fw-bold fs-6">
              <a href="${d.url}" class="text-decoration-none text-warning stretched-link">${d.title}</a>
            </h5>
            <p class="text-muted small mb-2 url-hover">
              <i class="fas fa-link me-1"></i> <span class="text-truncate d-inline-block" style="max-width: 100%;">${d.url}</span>
            </p>
            <p class="text-light small lh-lg flex-grow-1 mb-3 overflow-auto" style="max-height: 120px;">
              ${d.body}
            </p>
            <a href="${d.url}" class="btn btn-outline-warning btn-sm mt-auto w-100 fw-bold">
              <i class="fas fa-arrow-right me-1"></i> View Page
            </a>
          </div>
        </div>
      </div>
    `;
  }).join('');
});
</script>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
  /* Ultra Clean Professional Dark Theme */
  body { 
    background: #0a0a0a;
    color: #e9ecef;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  
  .card {
    background: #1a1a1a;
    border: 1px solid #333;
    transition: all 0.4s ease;
  }
  .card:hover {
    transform: translateY(-12px);
    box-shadow: 0 20px 40px rgba(255, 193, 7, 0.25) !important;
    border-color: #ffc107;
  }
  
  /* Search Bar */
  .input-group .form-control {
    background: #1e1e1e !important;
    border: none;
    color: #fff !important;
    font-size: 1.1rem;
  }
  .input-group .form-control:focus {
    background: #2d2d2d !important;
    box-shadow: 0 0 0 0.25rem rgba(255, 193, 7, 0.3);
  }
  .btn-warning {
    background: #ffc107;
    border: none;
    color: #000;
    font-weight: bold;
  }
  
  /* URL Hover */
  .url-hover {
    color: #adb5bd !important;
    transition: color 0.3s;
  }
  .url-hover:hover {
    color: #ffc107 !important;
  }
  
  /* Button */
  .btn-outline-warning {
    border-color: #ffc107;
    color: #ffc107;
    font-weight: 600;
    transition: all 0.3s;
  }
  .btn-outline-warning:hover {
    background: #ffc107;
    color: #000;
    transform: scale(1.05);
  }
  
  /* Scrollable Body */
  .overflow-auto::-webkit-scrollbar {
    width: 4px;
  }
  .overflow-auto::-webkit-scrollbar-track {
    background: #333;
  }
  .overflow-auto::-webkit-scrollbar-thumb {
    background: #ffc107;
    border-radius: 2px;
  }
</style>
